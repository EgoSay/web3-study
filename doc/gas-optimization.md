# gas 优化

1. 变量的使用
如果存在多个变量，因为底层槽位存储是 32 byte 一个 slot, 那么尽量将变量凑成 32 byte
比如第一个变量定义为 address 类型(20 byte), 第二个变量定义为 uint96 类型(12 byte), 那么这两个变量会放在一个槽位占用 32 byte

但变量的写入读取也消耗 gas, 所以在考虑槽位空间使用的情况下，还需要考虑放在一个槽位的变量，是否读取写入的频率相似, 如果变量的读取写入频率差异很大，那么就不应该放在一个槽位

mapping(k1 => mapping(k2 => v)) 这种嵌套的 mapping, 和 mapping(k1 => v) 的 gas 消耗是不同的，前者需要进行两次查找：第一次查找 k1 对应的内层映射，第二次查找内层映射中 k2 对应的值

2. 函数调用
